variables:
  clippy_toolchain: 1.33.0
  minimum_toolchain: 1.32.0

jobs:
#- template: admin/pipelines/clippy.yml
#  parameters:
#    rustup_toolchain: ${{ variables.clippy_toolchain }}
- job: Windows
  pool:
    vmImage: vs2017-win2016
  steps:
    - template: admin/pipelines/rustup.yml
    - template: admin/pipelines/cargo-steps.yml
#- job: MacOS
#  pool:
#    vmImage: macOS-10.13
#  steps:
#    - template: admin/pipelines/rustup.yml
#    - template: admin/pipelines/cargo-steps.yml
#- job: Linux
#  pool:
#    vmImage: ubuntu-16.04
#  strategy:
#    matrix:
#      stable:
#        rustup_toolchain: stable
#      beta:
#        rustup_toolchain: beta
#      nightly:
#        rustup_toolchain: nightly
#      minimum:
#        rustup_toolchain: ${{ variables.minimum_toolchain }}
#  steps:
#    - template: admin/pipelines/rustup.yml
#      parameters:
#        rustup_toolchain: $(rustup_toolchain)
#    - template: admin/pipelines/cargo-steps.yml

# Check that the minimum versions specified in Cargo.toml
# do in fact build.
#- job: MinimalVersions
#  pool:
#    vmImage: ubuntu-16.04
#  steps:
#    - template: admin/pipelines/rustup.yml
#      parameters:
#        rustup_toolchain: nightly
#    - template: admin/pipelines/min-versions.yml
